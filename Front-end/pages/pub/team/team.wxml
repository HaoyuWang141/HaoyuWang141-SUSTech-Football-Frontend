<view class="section-header">
  <view style="background-color: white;">
    <image src="/assets/sustech-motto.png" mode="aspectFit" style="width: 80%;height: 200rpx;" />
  </view>
  <view class="buttons">
      <view wx:if="{{!favorited}}">
        <image class="icon" src="/assets/unfavorited.png" mode="scaleToFill" style="padding: 10rpx;" bind:tap="favorite" />
      </view>
      <view wx:if="{{favorited}}">
        <image class="icon" src="/assets/favorited.png" mode="scaleToFill" style="padding: 10rpx;" bind:tap="unfavorite" />
      </view>
    </view>
</view>

<team-card-big name="{{name}}" img="{{logoUrl}}" number="{{playerList.length}}"></team-card-big>

<view class="tabs">
  <view class="tab,{{activeIndex==0?'active':''}}" data-index="0" bindtap="switchTab">信息</view>
  <view class="tab,{{activeIndex==1?'active':''}}" data-index="1" bindtap="switchTab">赛程</view>
  <view class="tab,{{activeIndex==2?'active':''}}" data-index="2" bindtap="switchTab">球员</view>
</view>

<view class="tab-content">

  <view wx:if="{{activeIndex == 0}}">
    <view class="block-container">
      <view class="block-top">
        <text class="block-title">球队简介</text>
        <text class="block-more"></text>
      </view>
      <view class="block-main">
        {{description}}
      </view>
    </view>
  </view>

  <view wx:if="{{activeIndex == 1}}">
    <view class="block-container">
      <view class="block-top">
        <text class="block-title">赛程</text>
        <text class="block-more" bind:tap="gotoMatchesPage" data-list="{{matchList}}">查看更多</text>
      </view>
      <view class="block-main">
        <scroll-view scroll-x enable-flex style="flex-direction: row; white-space: nowrap;">
          <match-card-small wx:for="{{matchList}}" wx:key="matchId" name="" stage="" tag="" team1="{{item.homeTeam.name}}" team2="{{item.awayTeam.name}}" icon1="{{item.homeTeam.logoUrl}}" icon2="{{item.awayTeam.logoUrl}}" score1="{{item.homeTeamScore}}" score2="{{item.awayTeamScore}}" penalty1="{{item.homeTeamPenalty}}" penalty2="{{item.awayTeamPenalty}}" time="{{item.strTime}}" hasBegun="{{item.hasBegun}}" bind:tap="gotoMatchPage" data-id="{{item.matchId}}" data-event="{{name}}"> </match-card-small>
        </scroll-view>
      </view>
    </view>
  </view>

  <view wx:if="{{activeIndex == 2}}">
    <view class="block-container">
      <view class="block-top">
        <text class="block-title">球员</text>
      </view>
      <view class="block-main">
        <view class="grid-container">
          <!-- 表头 -->
          <view class="grid-header grid-item">号码</view>
          <view class="grid-header grid-item">头像</view>
          <view class="grid-header grid-item">姓名</view>
          <view class="grid-header grid-item">出场数</view>
          <view class="grid-header grid-item">进球数/助攻数</view>
          <view class="grid-header grid-item">黄牌数/红牌数</view>

          <!-- 球员信息 -->
          <block wx:for="{{playerList}}" wx:key="unique">
            <view class="grid-item">{{item.number}}</view>
            <view class="grid-item">
              <image src="{{item.photoUrl}}" class="player-avatar"></image>
            </view>
            <view class="grid-item">{{item.name}}</view>
            <view class="grid-item">{{item.appearances}}</view>
            <view class="grid-item">{{item.goals}}/{{item.assists}}</view>
            <view class="grid-item">{{item.yellowCards}}/{{item.redCards}}</view>
          </block>
        </view>
      </view>
    </view>
  </view>

</view>